(window.webpackJsonp=window.webpackJsonp||[]).push([["f54b"],{DB6d:function(e,t,n){"use strict";n.r(t);var r=n("ln6h"),a=n.n(r),i=n("O40h"),o=n("0iUn"),u=n("sLSF"),c=n("MI3g"),s=n("a7VT"),l=n("AT/M"),f=n("Tit0"),p=n("vYYK"),d=n("q1tI"),m=n.n(d),h=n("YFqc"),w=n.n(h),v=n("iVi/"),b=n.n(v),g=n("DJaw"),y=n("ha+U"),E=n("E/DK"),S=n("4KRT"),O=g.a.loginUser,T=function(e){function t(){var e,n;Object(o.default)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(c.default)(this,(e=Object(s.default)(t)).call.apply(e,[this].concat(a))),Object(p.a)(Object(l.default)(n),"handleSubmit",function(e,t){e.preventDefault();var n=document.login,r=n.email,a=n.password;t({variables:{email:r.value,password:a.value}})}),n}return Object(f.default)(t,e),Object(u.default)(t,[{key:"render",value:function(){var e=this,t=this.props.client;return m.a.createElement(S.b,{mutation:O,onCompleted:function(e){var n=e.loginUser.token;document.cookie=b.a.serialize("token",n,{maxAge:2592e3}),t.cache.reset().then(function(){Object(y.a)({},"/")})},onError:function(e){return console.log(e)}},function(t,n){n.error;return m.a.createElement(m.a.Fragment,null,m.a.createElement("form",{name:"login",onSubmit:function(n){return e.handleSubmit(n,t)}},m.a.createElement("input",{name:"email",type:"email",placeholder:"Email"}),m.a.createElement("input",{name:"password",type:"password",placeholder:"Password"}),m.a.createElement("button",{type:"submit"},"Login")),m.a.createElement("hr",null),"New?"," ",m.a.createElement(w.a,{prefetch:!0,href:"/register"},m.a.createElement("a",null,"Create account")))})}}],[{key:"getInitialProps",value:function(){var e=Object(i.default)(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)(t.apolloClient);case 2:return n=e.sent,n.loggedInUser.user&&Object(y.a)(t,"/"),e.abrupt("return",{});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}]),t}(m.a.Component);t.default=Object(S.e)(T)},"E/DK":function(e,t,n){"use strict";var r=n("rt45"),a=n("LIIV");function i(){var e=Object(r.a)(["\n        query {\n          user {\n            id\n            name\n          }\n        }\n      "]);return i=function(){return e},e}t.a=function(e){return e.query({query:Object(a.a)(i())}).then(function(e){return{loggedInUser:e.data}}).catch(function(){return{loggedInUser:{}}})}},hMb1:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signin",function(){var e=n("DB6d");return{page:e.default||e}}])},"ha+U":function(e,t,n){"use strict";var r=n("nOHt"),a=n.n(r);t.a=function(e,t){e.res?(e.res.writeHead(303,{Location:t}),e.res.end()):a.a.replace(t)}},"iVi/":function(e,t,n){"use strict";
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},a=t||{},o=e.split(i),c=a.decode||r,s=0;s<o.length;s++){var l=o[s],f=l.indexOf("=");if(!(f<0)){var p=l.substr(0,f).trim(),d=l.substr(++f,l.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),null==n[p]&&(n[p]=u(d,c))}}return n},t.serialize=function(e,t,n){var r=n||{},i=r.encode||a;if("function"!=typeof i)throw new TypeError("option encode is invalid");if(!o.test(e))throw new TypeError("argument name is invalid");var u=i(t);if(u&&!o.test(u))throw new TypeError("argument val is invalid");var c=e+"="+u;if(null!=r.maxAge){var s=r.maxAge-0;if(isNaN(s))throw new Error("maxAge should be a Number");c+="; Max-Age="+Math.floor(s)}if(r.domain){if(!o.test(r.domain))throw new TypeError("option domain is invalid");c+="; Domain="+r.domain}if(r.path){if(!o.test(r.path))throw new TypeError("option path is invalid");c+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(c+="; HttpOnly");r.secure&&(c+="; Secure");if(r.sameSite){var l="string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite;switch(l){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return c};var r=decodeURIComponent,a=encodeURIComponent,i=/; */,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function u(e,t){try{return t(e)}catch(n){return e}}}},[["hMb1","5d41","9da1"]]]);